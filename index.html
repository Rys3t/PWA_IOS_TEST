<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="manifest.json">
    <script src="serviceworker.js"></script>
    <script type="text/javascript" src="instascan.min.js"></script>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <title>Document</title>
</head>
<body>
<img src="images/tri.png" alt="tri">
<button onclick="window.close();">Close Window</button>
<button onclick=test()>test ajax</button>
<button onclick=fetchtest()>test fetch</button>
<input type="file" capture="user" accept="image/*" />
<input type="file" capture="environment" accept="image/*" />
<a href="/read.html">read頁面</a>

<button id = 'btnPhoneCall'><a href="" id = 'phonehref'>撥打電話:</a></button>
<input type="text" id = 'phoneNumber'>

<script>
document.getElementById('btnPhoneCall').onclick = function(){
  var phoneNumber = parseInt(document.getElementById('phoneNumber').value)
  //alert(phoneNumber);
  document.getElementById('phonehref').setAttribute("href", "tel:" + phoneNumber);
  alert(document.getElementById('phonehref').href);
}

</script>

<script>
function test(){
  var xhr = new XMLHttpRequest();
  xhr.onload = function () {
    let response = JSON.parse(this.response);
    console.log(response)
  }
  xhr.open("GET", "https://api.unsplash.com/photos/?client_id=XeMLEo-cG4umamAaRPxahF5CC7nhdSYGtbKlmU1O7Sk");
  xhr.send();
  
}
</script>
<script>function fetchtest(){
  fetch('http://10.1.6.192:802/WebService_Android.asmx/QueryUser?user_name=813717&password=f54321')
    .then((response) => {
      console.log(response);
    })
    .catch((error) => {
      console.log(`Error: ${error}`);
    })
}
</script>
<video id="preview"></video>
<script type="text/javascript">
  let scanner = new Instascan.Scanner({
    video: document.getElementById('preview')
  });
</script>
</body>
</html>