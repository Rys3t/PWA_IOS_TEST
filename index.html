<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="manifest.json">
    <script src="serviceworker.js"></script>
    <script type="text/javascript" src="instascan.min.js"></script>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
	  <link rel="stylesheet" href="all.css">
  <script src="getCookie.js"></script>
    <title>Document</title>
</head>
<body>
<img src="images/tri.png" alt="tri">

<button onclick="window.close();">Close Window</button>
<button onclick=test()>test ajax</button>
<button onclick=fetchtest()>test fetch</button>
<button onclick=cookiestest()>test cookies</button>
<input type="file" capture="user" accept="image/*" />
<input type="file" capture="environment" accept="image/*" />
<a href="/read.html">read頁面</a>

<button id = 'btnPhoneCall'><a href="" id = 'phonehref'>撥打電話:</a></button>
<input type="text" id = 'phoneNumber'>

<script>
document.getElementById('btnPhoneCall').onclick = () => {//撥打電話
  var phoneNumber = document.getElementById('phoneNumber').value;
  //alert(phoneNumber);
  document.getElementById('phonehref').setAttribute("href", "tel:" + phoneNumber);
  alert(document.getElementById('phonehref').href);
}

</script>

<script>
function test(){
  var xhr = new XMLHttpRequest();
  xhr.onload = function () {
    let response = JSON.parse(this.response);
    console.log(response)
  }
  xhr.open("GET", "https://localhost:44304/Dispatch?WorkId=1");
  xhr.send();
}
</script>
<script>function fetchtest(){
  fetch('https://localhost:44304/Dispatch?WorkId=1')
    .then((response) => {
      console.log(response);
    })
    .catch((error) => {
      console.log(`Error: ${error}`);
    })
}
</script>
<script>function cookiestest(){
  document.cookie = 'data=123';
  document.cookie = 'data1=1';
  document.cookie = 'data2=2';
  let test = getCookie('data1');
  alert(test);
}
</script>
<video id="preview"></video>
<script type="text/javascript">
  let scanner = new Instascan.Scanner({
    video: document.getElementById('preview')
  });
</script>
</body>
</html>